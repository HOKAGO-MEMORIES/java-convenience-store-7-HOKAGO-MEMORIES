# 편의점

---  

## 프로젝트 개요

- 사용자가 물건을 살 수 있는 편의점입니다.
- 사용자는 구매할 물건의 이름과 수량을 입력합니다.
- 물건에 프로모션 할인이 있다면 할인을 받을 수 있습니다.
- 사용자는 구매한 물건에 멤버십 할인을 받을 수 있습니다.
- 사용자가 구매한 만큼 재고를 관리합니다.

--- 

## 구현 기능 목록

- [x] **1. 시스템 초기화**
    - [x] 1-1. `product.md` 파일을 이용해 상품 목록을 불러온다.
    - [x] 1-2. `promotions.md` 파일을 이용해 프로모션 목록과 기간을 불러온다.

- [ ] **2. 입력 처리**
    - [x] 2-1. 환영 메시지와 함께 현재 재고를 출력한다.
    - [ ] 2-2. 사용자가 구매할 상품명과 수량을 입력한다. (예: `[사이다-2],[감자칩-1]`)
        - [ ] 2-2-1. 구매할 상품과 수량 형식이 올바르지 않은 경우에 `[ERROR] 올바르지 않은 형식으로 입력했습니다.`를 출력하고 다시 입력 받는다.
        - [ ] 2-2-2. 존재하지 않는 상품을 입력한 경우에 `[ERROR] 존재하지 않는 상품입니다.`를 출력하고 다시 입력받는다.
        - [ ] 2-2-3. 구매 수량이 재고 수량을 초과한 경우에 `[ERROR] 재고 수량을 초과하여 구매할 수 없습니다.`를 출력하고 다시 입력받는다.
        - [ ] 2-2-4. 기타 잘못된 입력인 경우에 `[ERROR] 잘못된 입력입니다.`를 출력하고 다시 입력받는다.

- [ ] **3. 프로모션 할인 처리**
    - [ ] 3-1. 오늘 날짜가 프로모션 기간 내에 포함된 경우 할인을 적용한다.
        - [ ] 3-1-1. 재고가 충분하다면 `1+1` 또는 `2+1` 프로모션을 진행한다.
        - [ ] 3-1-2. 프로모션 적용이 가능한데 수량보다 적게 가져온 경우 (예: `2+1 상품에 수량 2개 입력`), 그 수량만큼 추가 여부를 입력받는다.
        - [ ] 3-1-3. 프로모션 재고가 부족하여 일부 수량에 혜택이 불가능한 경우 (예: `2+1 상품 재고 7개에 수량 10개 입력 -> 6개만 프로모션`), 일부 수량에 대해 정가 결제 여부를
          입력받는다.

- [ ] **4. 멤버십 할인 처리**
    - [ ] 4-1. 사용자가 멤버십 할인을 받을지 선택한다.
        - [ ] 4-1-1. 멤버십 할인은 프로모션 적용 후 남은 금액의 `30%`를 할인받는다.
        - [ ] 4-1-2. 멤버십 할인의 최대 한도는 `8,000원`이다.

- [ ] **5. 영수증 출력**
    - [ ] 5-1. 고객의 구매 내역과 할인을 요약하여 출력한다.
    - [ ] 5-2. `구매 상품 내역`을 출력한다.
        - [ ] 5-2-1. `구매한 상품명`, `수량`, `가격`을 출력한다.
    - [ ] 5-3. `증정 상품 내역`을 출력한다.
        - [ ] 5-3-1. 프로모션에 따라 무료로 제공된 `증정 상품의 목록`을 출력한다.
    - [ ] 5-4. `금액 정보`를 출력한다.
        - [ ] 5-4-1. 구매한 상품의 총 수량과 총 금액인 `총구매액`을 출력한다.
        - [ ] 5-4-2. 프로모션에 의해 할인된 금액인 `행사할인`을 출력한다.
        - [ ] 5-4-3. 멤버십에 의해 추가로 할인된 금액인 `멤버십할인`을 출력한다.
        - [ ] 5-4-4. 최종 결제 금액인 `내실돈`을 출력한다.
    - [ ] 5-5. 사용자가 추가 구매할 지 선택한다.

- [ ] **6. 재고 관리**
    - [ ] 6-1. 고객이 상품을 구매할 때마다, 결제된 수량만큼 해당 상품의 재고에서 차감한다.
    - [ ] 6-2. 프로모션 기간 중이라면 프로모션 재고를 우선적으로 차감한다.

- [ ] **7. 예외 처리**
    - [ ] 7-1. 사용자가 잘못된 값을 입력했을 때, `[ERROR]`로 시작하는 오류 메시지와 함께 상황에 맞는 안내를 출력한다.
        - [ ] 7-1-1. 예외 처리가 된 부분부터 입력을 다시 받도록 한다.
    - [ ] 7-2. `Exception`이 아닌 `IllegalArgumentException`, `IllegalStateException` 등과 같은 명확한 유형을 처리한다.

---  